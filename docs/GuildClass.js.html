<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>GuildClass.js - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Classes</li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Client.html">Client</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Client.html#destroy">destroy</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Client.html#getUser">getUser</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Collection.html">Collection</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#array">array</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#clone">clone</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#concat">concat</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#deleteAll">deleteAll</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#equals">equals</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#every">every</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#exists">exists</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#filter">filter</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#filterArray">filterArray</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#find">find</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#findAll">findAll</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#first">first</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#firstKey">firstKey</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#keyArray">keyArray</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#last">last</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#lastKey">lastKey</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#map">map</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#random">random</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#randomKey">randomKey</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#reduce">reduce</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#some">some</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#sort">sort</a></span></li>
</nav>

<div id="main">
    
    <h1 class="page-title">GuildClass.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const request = require("./Connect");
const Collection = require("./Collection");
const _this = require("./Client");
const channel_methods = require("./Methods/Channels");

const newChannels = new Collection();
const allRoles = new Collection();
const allEmojis = new Collection();
const allMembers = new Collection();
const allPresences = new Collection();

class Guild {
  constructor() {

    for (let i = 0; i &lt; this.channels.length; i++) {
      newChannels.set(this.channels[i].id, channel_methods().fromthis(this.channels[i], this));
    }

    this.channels = newChannels;

    for (let i = 0; i &lt; this.roles.length; i++) {
      allRoles.set(this.roles[i].id, this.roles[i]);
    }

    this.roles = allRoles;
    
    for (let i = 0; i &lt; this.emojis.length; i++) {
      allEmojis.set(this.emojis[i].id, this.emojis[i]);
    }

    this.emojis = allEmojis;

    for (let i = 0; i &lt; this.members.length; i++) {
      allMembers.set(this.members[i].user.id, this.members[i]);
    }

    this.members = allMembers;


    for (let i = 0; i &lt; this.presences.length; i++) {
      allPresences.set(this.presences[i].user.id, this.presences[i]);
    }

    this.presences = allPresences;

    for (let i = 0; i &lt; _this.guilds.size; i++) {
      this.presences.forEach(r => {
        _this.presences.set(r.user.id, r);
      });
    }
  }

  /**
    * @description This method will create a channel in the guild
    * @param {String} name The name of the channel to create
    * @param {String} type The type of the channel, available ones: text, dm, voice, group_dm, category
    * @param {Object} opt The options for the channel, available: bitrate, userLimit, permissions, parent, nsfw
    * @returns {Promise&lt;Channel>} Returns the newly created Discord Channel
    */

  createChannel(name, type, opt) {
    return new Promise((res, rej) => {
      request.req("POST", `/guilds/${this.id}/channels`, {
        name: name,
        type: ["text", "dm", "voice", "group_dm", "category"].indexOf(type) || 0,
        bitrate: (type === "voice" &amp;&amp; opt &amp;&amp; opt.bitrate) || null,
        user_limit: (type === "voice" &amp;&amp; opt &amp;&amp; opt.userlimit) || null,
        permissions: (opt &amp;&amp; opt.permissions) || [],
        parent_id: (opt &amp;&amp; opt.parent) || null,
        nsfw: (type === "text" &amp;&amp; opt &amp;&amp; opt.nsfw) || null,
        topic: (type === "text" &amp;&amp; opt &amp;&amp; opt.topic) || null
      }, _this.token).then(c => {
        setTimeout(res, 100, res(channel_methods().fromRaw(c))); 
      }).catch(rej);
    });
  }

}

module.exports = Guild;</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Tue Mar 27 2018 23:24:05 GMT+0100 (GMT Summer Time) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
